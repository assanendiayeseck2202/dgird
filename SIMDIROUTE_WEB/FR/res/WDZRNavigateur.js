/*! VersionVI: 30F190056s x */
function WDZRAttribut(n,t,i){arguments.length&&(WDColonne.prototype.constructor.apply(this,arguments),this.m_eProprieteAssocie=i[0])}function WDZRNavigateur(n,t,i){arguments.length&&(WDTableZRNavigateur.prototype.constructor.apply(this,[n,WDSelection.prototype.ms_nSelectionSimple]),this.m_tabCouleurFond=t,this.m_nNbLignesLogiquesParLignePhysique=i,this.m_tabChampsFils=new WDTableauChamps,this.ms_tabTablesZRs.DeclareChamp(this))}var WDZRRupture=WDRupture,WDZRLigne;WDZRAttribut.prototype=new WDColonne,WDZRAttribut.prototype.constructor=WDZRAttribut,WDZRAttribut.prototype._voGetValeurInterne=function(n){switch(this.m_eProprieteAssocie){case WDChamp.prototype.XML_CHAMP_PROP_NUM_VISIBLE:case WDChamp.prototype.XML_CHAMP_PROP_NUM_POLICEGRAS:case WDChamp.prototype.XML_CHAMP_PROP_NUM_POLICEITALIQUE:case WDChamp.prototype.XML_CHAMP_PROP_NUM_POLICESOULIGNE:return clWDUtil.bCastToBoolAvecChaine(n);case WDChamp.prototype.XML_CHAMP_PROP_NUM_ETAT:var t=parseInt(n+"",10);return t!=WDChamp.prototype.ms_eEtatActif&&t!=WDChamp.prototype.ms_eEtatLectureSeule&&t!=WDChamp.prototype.ms_eEtatGrise&&(t=WDChamp.prototype.ms_eEtatActif),t;case WDChamp.prototype.XML_CHAMP_PROP_NUM_POLICETAILLE:default:return WDColonne.prototype._voGetValeurInterne.apply(this,arguments)}},WDZRAttribut.prototype._voGetValeurDefaut=function(){switch(this.m_eProprieteAssocie){case WDChamp.prototype.XML_CHAMP_PROP_NUM_VISIBLE:return!0;case WDChamp.prototype.XML_CHAMP_PROP_NUM_ETAT:return WDChamp.prototype.ms_eEtatActif;case WDChamp.prototype.XML_CHAMP_PROP_NUM_POLICEGRAS:case WDChamp.prototype.XML_CHAMP_PROP_NUM_POLICEITALIQUE:case WDChamp.prototype.XML_CHAMP_PROP_NUM_POLICESOULIGNE:return!1;case WDChamp.prototype.XML_CHAMP_PROP_NUM_POLICETAILLE:return 0;default:return WDColonne.prototype._voGetValeurDefaut.apply(this,arguments)}},WDZRAttribut.prototype.vsLitPropriete=function(n,t,i,r,u,f){switch(u){case WDChamp.prototype.XML_CHAMP_PROP_NUM_VALEUR:default:var e=this.oGetValeurAvecLigne(t,r,!0);if(f)switch(this.m_eProprieteAssocie){case WDChamp.prototype.XML_CHAMP_PROP_NUM_IMAGE:case WDChamp.prototype.XML_CHAMP_PROP_NUM_VIGNETTE:e=clWDUtil.sGetCheminImage(e)}return e}},WDZRLigne=WDLigne,WDZRNavigateur.prototype=new WDTableZRNavigateur,WDZRNavigateur.prototype.constructor=WDZRNavigateur,WDZRNavigateur.prototype.vbZR=function(){return!0},WDZRNavigateur.prototype._vNewColonne=WDZRAttribut,WDZRNavigateur.prototype._vNewRupture=WDZRRupture,WDZRNavigateur.prototype._vLigne=WDZRLigne,WDZRNavigateur.prototype._vHTMLGenereLigne=function(n,t,i,r){this.__HTMLGenere(n,t,i,this.m_oElementsHTML,r)},WDZRNavigateur.prototype._vPreAffiche=function(n){this.__MemoriseFocus(n)},WDZRNavigateur.prototype._vPostAffiche=function(n){this.__SetOnBlurChange(),this.__OnAffichageLignes(),this.__ReplaceFocus(n)},WDZRNavigateur.prototype._voAppelPCodeSurLigne=function(n,t,i){try{return this.m_sAliasZR=this.m_sAliasChamp,this.oAppelSurLigneZR(this._nLigneLigneWL(n),t,[i])}finally{delete this.m_sAliasZR}},WDZRNavigateur.prototype._vsLitPropriete=function(n,t,i,r,u,f){switch(r){case this.XML_CHAMP_PROP_NUM_COULEURFOND:if(i.m_sCouleurFond!==undefined)return i.m_sCouleurFond;var e;return this.m_tabCouleurFond&&this.m_tabCouleurFond.length&&(e=this.m_tabCouleurFond[t%this.m_tabCouleurFond.length]),e!==undefined||f||(e="transparent"),e;case this.ms_nAttributRuptureLigneDebut:return t%this.m_nNbLignesLogiquesParLignePhysique==0;case this.ms_nAttributRuptureLigneFin:return t%this.m_nNbLignesLogiquesParLignePhysique==this.m_nNbLignesLogiquesParLignePhysique-1;default:return WDTableZRNavigateur.prototype._vsLitPropriete.apply(this,arguments)}},WDZRNavigateur.prototype._voHTMLParse=WDTableZRNavigateur.prototype.__tabHTMLParse,WDZRNavigateur.prototype.vZRDeclareChampFils=function(n){this.m_tabChampsFils.DeclareChamp(n)},WDZRNavigateur.prototype.vZROnSelectLigne=function(n){this._vSetValeurChampFormulaire(n)},WDZRNavigateur.prototype.vZROnValideLigne=function(n,t,i){if(t){var r=this._nGetColonneSelonAlias(t.m_sAliasAttribut);undefined!==r&&this.__OnLigneModifieFormulaire(n,[r,this._nGetSelection(),i])}},WDZRNavigateur.prototype.__MemoriseFocus=function(n){var t,i,r;try{t=document.activeElement,t&&bEstFils(t,this.m_oHote,document)&&(i=t.name,i&&i.length&&(r=clWDUtil.nDansTableau(document.getElementsByName(i),t),clWDUtil.nElementInconnu==r&&(r=0),n.m_sFocusNom=i,n.m_nFocusIndice=r))}catch(u){}},WDZRNavigateur.prototype.__ReplaceFocus=function(n){n.m_nFocusIndice!==undefined&&this.nSetTimeoutUnique("__SetFocus",clWDUtil.ms_oTimeoutImmediat,n)},WDZRNavigateur.prototype.__SetFocus=function(n){if(n.m_nFocusIndice!==undefined)try{document.getElementsByName(n.m_sFocusNom)[n.m_nFocusIndice].focus()}catch(t){}},WDZRNavigateur.prototype.__SetOnBlurChange=function(){for(var f=clWDUtil.tabGetElements(this.m_oHote,!1),o=f.length,t,i,r,u,e,n=0;n<o;n++)t=f[n],i=[],clWDUtil.bEstAliasAttributZR(t,i)&&(r=this._nLigneWLLigne(i[0]),u=this._nGetColonneSelonAlias(i[1]),r!==undefined&&u!==undefined&&(e=t.onchange!==undefined?"onchange":"onblur",clWDUtil.SetOnXxx(t,e,this,this.__OnLigneModifieFormulaire,[u,r],!0)))},WDZRNavigateur.prototype.__OnAffichageLignes=function(){for(var i=this._nGetSelection(),t=0,r=this.m_tabLignes,u=this._nGetNbLignes(),n=0;n<u;n++)r[n].bGetVerifieFiltre()&&(t++,this.m_tabChampsFils._AppelMethodePtr(WDChamp.prototype.OnLigneZRAffiche,[t,n==i]))},WDZRNavigateur.prototype.__OnLigneModifieFormulaire=function(n,t){var u=t[0],f=t[1],r,i;if(2<t.length)r=this.m_tabColonnes[u].oGetValeurInterne(t[2]);else{i=clWDUtil.oGetTarget(n),r=i.value;switch(i.type.toLowerCase()){case"checkbox":r=i.checked?!0:!1;break;case"radio":if(!i.checked)return;break;case"select-multiple":case"select-one":r=i.selectedIndex!=-1?parseInt(i.options[i.selectedIndex].value,10):-1}}this.m_tabLignes[f].tabGetValeurs()[u]=r,this.__OnLigneModification(f,this.ms_nLigneInvalide,0==this._nGetNbRuptures())}